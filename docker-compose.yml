services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile   # located at backend/Dockerfile
    image: neo4j-fuzzy-backend:latest
    ports:
      - "5000:5000"
    environment:
      - NEO4J_URI=bolt://13.233.114.24:7687
      - NEO4J_USER=neo4j
      - NEO4J_PASS=Mastut300
      - API_KEY=DemoKey123
    restart: unless-stopped

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile   # located at frontend/Dockerfile
    image: neo4j-fuzzy-frontend:latest
    ports:
      - "3000:80"   # frontend served by nginx on container port 80
    restart: unless-stopped
